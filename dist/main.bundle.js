var LiteSocket;(()=>{var e={579:e=>{function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function t(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}e.exports=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n(this,e),o(this,"ws",void 0),o(this,"events",[]),o(this,"config",{host:"ws://127.0.0.1:3110",debug:!1,protocol:[],reconnect:{time:2,limit:10}}),o(this,"counter",1),t&&Object.assign(this.config,t),this.connect()}var i,c;return i=e,(c=[{key:"connect",value:function(){var e=this;try{this.ws=new WebSocket(this.config.host,this.config.protocol)}catch(e){console.log("[error] Connect failed.")}this.ws.onmessage=function(n){return e.message(n)},this.ws.onopen=function(){e.config.debug&&console.log("WebSocket open..."),e.counter=1},this.config.debug&&(this.ws.onerror=function(e){return console.log("[error] Type: ".concat(e.type))}),this.ws.onclose=function(n){return e.close(n)}}},{key:"message",value:function(e){var n=JSON.parse(e.data);this.trigger(n.event,n.data)}},{key:"close",value:function(e){var n=this;this.config.debug&&(console.log("[Close] Connect close. \r\nCode: ".concat(e.code," \r\nType: ").concat(e.type,";")),console.log("Reconnect...")),this.counter<this.config.reconnect.limit&&setTimeout((function(){return n.connect()}),1e3*this.config.reconnect.time),this.counter++}},{key:"emit",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=JSON.stringify({event:e,data:n});this.ws.send(t)}},{key:"on",value:function(e,n){this.events[e]=n}},{key:"trigger",value:function(e,n){e in this.events&&this.events[e](n)}},{key:"send",value:function(e){this.ws.send(e)}}])&&t(i.prototype,c),e}()}},n={},t=function t(o){var i=n[o];if(void 0!==i)return i.exports;var c=n[o]={exports:{}};return e[o](c,c.exports,t),c.exports}(579);LiteSocket=t})();